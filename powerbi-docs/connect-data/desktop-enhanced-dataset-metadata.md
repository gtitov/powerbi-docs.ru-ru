---
title: Использование расширенных метаданных набора данных в Power BI Desktop
description: В этой статье описывается, как использовать расширенные метаданные набора данных в Power BI.
author: davidiseminger
ms.author: davidi
ms.reviewer: ''
ms.service: powerbi
ms.subservice: pbi-data-sources
ms.topic: conceptual
ms.date: 12/08/2020
LocalizationGroup: Connect to data
ms.openlocfilehash: 661e50617094d396e8beb887ac0e4a27c28c2ca7
ms.sourcegitcommit: 30d0668434283c633bda9ae03bc2aca75401ab94
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/09/2020
ms.locfileid: "96906987"
---
# <a name="using-enhanced-dataset-metadata"></a>Использование расширенных метаданных набора данных

Когда Power BI Desktop создает отчеты, он также создает метаданные набора данных в соответствующих файлах PBIX и PBIT. Ранее метаданные хранились в формате, характерном для Power BI Desktop. В метаданных используются выражения M в кодировке Base-64, а также источники данных. В Power BI имеются предположения о том, как хранятся метаданные.

С выпуском функции **расширенных метаданных набора данных** многие из этих ограничений исключаются. PBIX-файлы автоматически обновляются до расширенных метаданных при открытии файла. При включенной функции **расширенных метаданных набора данных** метаданные, созданные Power BI Desktop, используют формат, аналогичный тому, который используется для табличных моделей Analysis Services, основанных на [табличной модели объектов](/analysis-services/tom/introduction-to-the-tabular-object-model-tom-in-analysis-services-amo).


Функция **расширенных метаданных набора данных** является стратегически важной и фундаментальной функцией. В будущем функции Power BI будут строиться на основе метаданных. Ниже перечислены преимущества использования расширенных метаданных наборов данных:

- [Чтение и запись XMLA](/power-platform-release-plan/2019wave2/business-intelligence/xmla-readwrite) для управления наборами данных Power BI
- Перенос рабочих нагрузок Analysis Services в Power BI для использования преимуществ функций следующего поколения.

## <a name="limitations"></a>Ограничения
До расширенной поддержки метаданных для SQL Server, Oracle, Teradata и устаревших подключений HANA в Power BI Desktop использовался собственный запрос к модели данных. Этот запрос используется моделями данных службы Power BI. Благодаря расширенной поддержке метаданных модель данных службы Power BI повторно создает собственный запрос во время выполнения. В ней не используется запрос, созданный Power BI Desktop. В большинстве случаев такое извлечение разрешается верно, однако некоторые преобразования не будут работать без считывания базовых данных. В отчетах, которые работали ранее, могут появиться ошибки. Например, следующая ошибка: 

"Не удалось преобразовать запрос M в таблице "Dimension City" в собственный исходный запрос. Повторите попытку позже или обратитесь в службу поддержки. При обращении в службу поддержки укажите эти сведения". 

Исправить запросы можно в трех разных местах в Power BI Desktop:

- При применении изменений или обновлении.
- На панели предупреждений в редакторе Power Query с информацией о том, что выражение не удалось свернуть в источник данных.
    :::image type="content" source="media/desktop-enhanced-dataset-metadata/enhanced-metadata-apply-query-changes.png" alt-text="Снимок экрана: сообщение об применении изменений в запросе — &quot;Не удалось свернуть выражение в источник данных&quot;.":::
- При запуске оценок при открытии отчета для проверки наличия неподдерживаемых запросов. Выполнение этих оценок может привести к снижению производительности.


## <a name="next-steps"></a>Дальнейшие действия

Power BI Desktop предоставляет широкие возможности. Дополнительные сведения об этих возможностях см. в следующих ресурсах.

* [Что такое Power BI Desktop?](../fundamentals/desktop-what-is-desktop.md)
* [Новые возможности Power BI Desktop](../fundamentals/desktop-latest-update.md)
* [Об использовании Редактора запросов в Power BI Desktop](../transform-model/desktop-query-overview.md)
* [Типы данных в Power BI Desktop](desktop-data-types.md)
* [Формирование и объединение данных в Power BI Desktop](desktop-shape-and-combine-data.md)
* [Общие задачи с запросами в Power BI Desktop](../transform-model/desktop-common-query-tasks.md)
