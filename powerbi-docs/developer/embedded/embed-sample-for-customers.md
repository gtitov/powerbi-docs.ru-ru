---
title: Внедрение содержимого в приложение для клиентов
description: Сведения о внедрении отчета, панели мониторинга или плитки в пример аналитики Power BI Embedded.
author: KesemSharabi
ms.author: kesharab
ms.reviewer: rkarlin
ms.topic: tutorial
ms.service: powerbi
ms.subservice: powerbi-developer
ms.custom: seodec18
ms.date: 12/02/2020
ms.openlocfilehash: 7bc825992f5c7382e1c0a24783f732957913c588
ms.sourcegitcommit: 30d0668434283c633bda9ae03bc2aca75401ab94
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/09/2020
ms.locfileid: "96907197"
---
# <a name="tutorial-embed-power-bi-content-using-a-sample-embed-for-your-customers-application"></a>Руководство. Внедрение содержимого Power BI с помощью примера *внедрения для клиентов*

**Встроенная аналитика** и **Power BI Embedded** (предложение Azure) позволяет внедрять в приложение содержимое Power BI, такое как отчеты, панели мониторинга и плитки.

Из этого руководства вы узнаете, как выполнять следующие задачи:
>[!div class="checklist"]
>* Настройте внедренную среду.
>* Настройте пример приложения *внедрения для клиентов* (также известное как *App Owns Data*).

Для работы с приложением пользователям не потребуется входить в Power BI, им также не нужна лицензия Power BI.

Мы рекомендуем использовать *внедрение для клиентов* для внедрения содержимого Power BI, если вы являетесь независимым поставщиком программного обеспечения или разработчиком, желающим создать приложения для сторонних организаций.

## <a name="code-sample-specifications"></a>Спецификации примера кода

В этом руководстве содержатся инструкции по настройке примера приложения *внедрения для клиентов* на одном из следующих языков программирования:

* .NET Framework
* .NET Core
* Java
* Node.js
* Python

Примеры кода поддерживают следующие браузеры:

* Google Chrome

* Microsoft Edge;

* Mozilla Firefox;

## <a name="prerequisites"></a>Предварительные условия

Прежде чем приступить к работе с этим руководством, убедитесь, что у вас есть как Power BI, так и указанные ниже зависимости кода.

* **Зависимости Power BI**

    * Собственный [клиент Azure Active Directory](create-an-azure-active-directory-tenant.md).

    * Для проверки подлинности приложения в Power BI необходимо выполнить одно из следующих действий.

        * [Субъект-служба](embed-service-principal.md) — [объект субъекта-службы](/azure/active-directory/develop/app-objects-and-service-principals#service-principal-object) Azure Active Directory (Azure AD) позволяет проверить подлинность приложения в Azure AD.

        * Лицензия [Power BI Pro](../../admin/service-admin-purchasing-power-bi-pro.md) — это будет **главный пользователь**, и приложение будет использовать его для проверки подлинности в Power BI.

        * Лицензия [Premium на пользователя (PPU)](../../admin/service-premium-per-user-faq.md) — это будет **главный пользователь**, и приложение будет использовать его для проверки подлинности в Power BI.

    >[!NOTE]
    >Чтобы [приступить к эксплуатации в рабочей среде](move-to-production.md), потребуется [емкость](embedded-capacity.md).

* **Зависимости кода**

    # <a name="net-framework"></a>[.NET Framework](#tab/net-framework)
    
    * [.NET Framework 4.8](https://dotnet.microsoft.com/download/dotnet-framework/)
    
    * [Visual Studio](https://visualstudio.microsoft.com/)
    
    
    # <a name="net-core"></a>[.NET Core](#tab/net-core)
    
    * [Пакет SDK для .NET Core 3.1](https://dotnet.microsoft.com/download/dotnet-core) (или более поздней версии)
    
    * Интегрированная среда разработки (IDE) Мы рекомендуем использовать одну из следующих:
    
        * [Visual Studio](https://visualstudio.microsoft.com/)
    
        * [Visual Studio Code](https://code.visualstudio.com/)

    # <a name="java"></a>[Java](#tab/java)
    
    * [JDK (или JRE)](https://www.oracle.com/java/technologies/)
    
    * [Интегрированная среда разработки Eclipse](https://www.eclipse.org/downloads/packages/) — убедитесь, что у вас есть *Eclipse для разработчиков Java EE* (выпуск Enterprise Edition).
    
    * [Дистрибутивы двоичных файлов Apache Tomcat](https://tomcat.apache.org/)
    
    # <a name="node-js"></a>[Node.js](#tab/node-js)
    
    * [.NET Framework 4.8](https://dotnet.microsoft.com/download/dotnet-framework/)
    
    * Интегрированная среда разработки (IDE) Мы рекомендуем использовать одну из следующих:
    
        * [Visual Studio](https://visualstudio.microsoft.com/)
    
        * [Visual Studio Code](https://code.visualstudio.com/)
    
    # <a name="python"></a>[Python](#tab/python)
    
    * [Python 3](https://www.python.org/downloads/) (или более поздней версии)
    
        >[!NOTE]
        >* Если вы устанавливаете *Python* впервые, установите флажок **Добавить Python в PATH**, чтобы добавить установку в переменную `PATH`.
        >* Если у вас уже установлен *Python*, убедитесь, что переменная `PATH` содержит путь установки. Дополнительные сведения см. в разделе [Excursus: настройка переменных среды](https://docs.python.org/3/using/windows.html#excursus-setting-environment-variables) документации по Python (эта ссылка относится к Python 3).
    
    * Интегрированная среда разработки (IDE) Мы рекомендуем использовать одну из следующих:
    
        * [Visual Studio](https://visualstudio.microsoft.com/)
    
        * [Visual Studio Code](https://code.visualstudio.com/)
    
    ---

## <a name="method"></a>Метод

Чтобы создать пример приложения *внедрения для клиентов*, выполните следующие действия.

1. [Выберите способ проверки подлинности](#step-1---select-your-authentication-method).

2. [Зарегистрируйте приложение Azure AD](#step-2---register-an-azure-ad-application).

3. [Создайте рабочую область Power BI](#step-3---create-a-power-bi-workspace).

4. [Создание отчет Power BI и опубликуйте его](#step-4---create-and-publish-a-power-bi-report).

5. [Получите значения параметров внедрения](#step-5---get-the-embedding-parameter-values).

6. [Доступ к API субъекта-службы](#step-6---service-principal-api-access)
 
7. [Включите доступ к рабочей области](#step-7---enable-workspace-access).

8. [Внедрите свое содержимое](#step-8---embed-your-content).

## <a name="step-1---select-your-authentication-method"></a>Шаг 1. Выбор метода проверки подлинности

Внедренное решение будет зависеть от выбранного метода проверки подлинности. Поэтому важно понимать различия между методами проверки подлинности и решить, какой из них лучше подходит для вашего решения.

В следующей таблице описаны некоторые ключевые различия между [субъектом-службой](embed-service-principal.md) и **главным пользователем**.

|Оценка  |Субъект-служба  |Главный пользователь  |
|---------|---------|---------|
|Механизм     |[Объект субъекта-службы](/azure/active-directory/develop/app-objects-and-service-principals.md#service-principal-object) приложения Azure AD позволяет Azure AD выполнять проверку подлинности приложения внедренного решения в Power BI.        |Приложение Azure AD использует учетные данные (имя пользователя и пароль) пользователя Power BI для проверки подлинности в Power BI.         |
|Безопасность     |*Субъект-служба* — это рекомендуемый метод проверки подлинности Azure AD. Если вы используете субъект-службу*, для проверки подлинности можно применять как *секрет приложения*, так и *сертификат*.</br></br>В этом руководстве описывается только использование *субъекта-службы* с *секретом приложения*. Сведения о внедрении с помощью *субъекта-службы* и *сертификата* см. в статье, посвященной [использованию субъекта-службы с сертификатом](embed-service-principal-certificate.md).         |Этот метод проверки подлинности считается не таким безопасным, как при использовании *субъекта-службы*. Это связано с тем, что необходимо быть бдительным при указании учетных данных *главного пользователя* (имя пользователя и пароль). Например, их не следует предоставлять в приложении внедрения, и следует часто менять пароль.         |
|Делегированные разрешения Azure AD |Не требуется. |*Главный пользователь* или администратор должен предоставить свое согласие на доступ приложения к [разрешениям](/azure/active-directory/develop/v2-permissions-and-consent) REST API Power BI (также называемым областями). Например, *Report.ReadWrite.All*. |
|Доступ к службе Power BI |Получить доступ к службе Power BI с помощью *субъекта-службы* не удастся.|Для этого требуются учетные данные *главного пользователя*.|
|Лицензия     |Лицензия Pro не требуется. Вы можете использовать содержимое из любой рабочей области, членом иди администратором которой вы являетесь.         |Требуется лицензия [Power BI Pro](../../admin/service-admin-purchasing-power-bi-pro.md).         |

## <a name="step-2---register-an-azure-ad-application"></a>Шаг 2. Регистрация приложения Azure AD

Регистрация приложения в Azure AD позволяет:
> [!div class="checklist"]
>* создать удостоверение для приложения;
>* предоставить вашему приложению доступ к [REST API Power BI](/rest/api/power-bi/);
>* указать [разрешения REST Power BI](/azure/active-directory/develop/v2-permissions-and-consent) приложения (если вы используете *главного пользователя*).

Чтобы зарегистрировать приложение в Azure AD, следуйте инструкциям в разделе [Регистрация приложения](register-app.md).

>[!NOTE]
>Перед регистрацией приложения необходимо решить, какой метод проверки подлинности следует использовать: *субъект-службу* или *главного пользователя*.

## <a name="step-3---create-a-power-bi-workspace"></a>Шаг 3. Создание рабочей области Power BI

В Power BI отчеты, панели мониторинга и плитки хранятся в рабочей области. Чтобы внедрить эти элементы, необходимо создать их и передать в рабочую область.

>[!TIP]
>Если у вас уже есть рабочая область, этот шаг можно пропустить.

Чтобы создать рабочую область, выполните следующие действия.

1. Войдите в Power BI.

2. Выберите **Рабочие области**.

3. Выберите **Создать рабочую область**.

4. Присвойте рабочей области имя и нажмите **Сохранить**.

## <a name="step-4---create-and-publish-a-power-bi-report"></a>Шаг 4. Создание и публикация отчета Power BI

Следующим шагом является создание отчета и его отправка в рабочую область. Можно [создать собственный отчет](/powerbi-docs/fundamentals/desktop-getting-started#build-reports) с помощью Power BI Desktop, а затем [опубликовать](/powerbi-docs/fundamentals/desktop-getting-started#share-your-work) его в рабочей области. Можно также отправить пример отчета в рабочую область.

>[!Tip]
>Если у вас уже есть рабочая область с отчетом, этот шаг можно пропустить.

Чтобы скачать пример отчета и опубликовать его в рабочей области, выполните следующие действия.

1. Откройте папку с примерами [Power BI Desktop](https://github.com/microsoft/PowerBI-Developer-Samples) на сайте GitHub.

2. Выберите **Код**, а затем выберите **Скачать ZIP-файл**.

    :::image type="content" source="media/embed-sample-for-customers/download-sample-report.png" alt-text="Снимок экрана: кнопка для скачивания ZIP-файла в папке с примерами Power BI Desktop в GitHub":::

3. Извлеките содержимое скачанного ZIP-файла и перейдите к папке **Samples Reports**.

4. Выберите отчет для внедрения и [опубликуйте](/powerbi-docs/fundamentals/desktop-getting-started#share-your-work) его в рабочей области.

## <a name="step-5---get-the-embedding-parameter-values"></a>Шаг 5. Получение значений параметров внедрения

Чтобы внедрить содержимое, необходимо получить определенные значения параметров. В таблице ниже указаны требуемые значения, а также то, применимы ли они к методу проверки подлинности с помощью *субъекта-службы* или *главного пользователя*.

Перед внедрением содержимого убедитесь, что у вас есть все приведенные ниже значения. Некоторые значения будут отличаться в зависимости от используемого метода проверки подлинности.

|Параметр   |Субъект-служба   |Главный пользователь  |
|-------------------|---|---|
|[Идентификатор клиента](#client-id) |![Область применения](../../media/yes.png) |![Область применения](../../media/yes.png) |
|[Идентификатор рабочей области](#workspace-id)     |![Область применения](../../media/yes.png) |![Область применения](../../media/yes.png) |
|[Идентификатор отчета](#report-id)           |![Область применения](../../media/yes.png) |![Область применения](../../media/yes.png) |
|[Секрет клиента](#client-secret) |![Область применения](../../media/yes.png) |![Неприменимо.](../../media/no.png) |
|[Идентификатор клиента](#tenant-id)                 |![Область применения](../../media/yes.png) |![Неприменимо.](../../media/no.png) |
|[Имя пользователя Power BI](#power-bi-username-and-password)   |![Неприменимо.](../../media/no.png) |![Область применения](../../media/yes.png) |
|[Пароль Power BI](#power-bi-username-and-password)   |![Неприменимо.](../../media/no.png) |![Область применения](../../media/yes.png) |

### <a name="client-id"></a>Идентификатор клиента

>[!TIP]
>**Область применения:** ![Применяется к следующему: ![субъект-служба ](../../media/yes.png)Применяется к следующему: ](../../media/yes.png)главный пользователь

Чтобы получить идентификатор GUID клиента (также известный как *идентификатор приложения*), выполните следующие действия.

1. Выполните вход в [Microsoft Azure](https://ms.portal.azure.com/#allservices).

2. В строке поиска найдите **Регистрация приложений** и щелкните ссылку **Регистрация приложений**.

3. Выберите приложение Azure AD, используемое для внедрения содержимого Power BI.

4. В разделе **Обзор**  скопируйте **идентификатор приложения (клиента)** .

### <a name="workspace-id"></a>Идентификатор рабочей области

>[!TIP]
>**Область применения:** ![Применяется к следующему: ![субъект-служба ](../../media/yes.png)Применяется к следующему: ](../../media/yes.png)главный пользователь

Чтобы получить идентификатор GUID рабочей области, выполните следующие действия.

1. Войдите в службу Power BI.

2. Откройте отчет, который необходимо внедрить.

3. Скопируйте GUID из URL-адреса. Идентификатор GUID — это число между **/groups/** и **/reports/** .

    :::image type="content" source="media/embed-sample-for-customers/workspace-id.png" alt-text="Снимок экрана: идентификатор GUID рабочего пространства в URL-адресе службы Power BI":::

### <a name="report-id"></a>Идентификатор отчета

>[!TIP]
>**Область применения:** ![Применяется к следующему: ![субъект-служба ](../../media/yes.png)Применяется к следующему: ](../../media/yes.png)главный пользователь

1. Войдите в службу Power BI.

2. Откройте отчет, который необходимо внедрить.

3. Скопируйте GUID из URL-адреса. Идентификатор GUID — это число между **/reports/** и **/ReportSection/** .

    :::image type="content" source="media/embed-sample-for-customers/report-id.png" alt-text="Снимок экрана: идентификатор GUID отчета в URL-адресе службы Power BI":::

### <a name="client-secret"></a>Секрет клиента

>[!TIP]
>**Область применения:** ![Применяется к следующему:](../../media/yes.png) субъект-служба![Не применяется к следующему: ](../../media/no.png)главный пользователь

Чтобы получить секрет клиента, выполните следующие действия.

1. Выполните вход в [Microsoft Azure](https://ms.portal.azure.com/#allservices).

2. В строке поиска найдите **Регистрация приложений** и щелкните ссылку **Регистрация приложений**.

3. Выберите приложение Azure AD, используемое для внедрения содержимого Power BI.

4. В разделе **Управление** выберите **Сертификаты и секреты**.

5. В разделе **Секреты клиента** выберите **Новый секрет клиента**.

6. Во всплывающем окне **Добавить секрет клиента** введите описание секрета приложения, укажите срок действия секрета приложения и нажмите **Добавить**.

7. В разделе **Секреты клиента** скопируйте строку в столбце **Значение** только что созданного секрета приложения. Значение секрета клиента — это *идентификатор клиента*.

### <a name="tenant-id"></a>Идентификатор клиента

>[!TIP]
>**Область применения:** ![Применяется к следующему: ](../../media/yes.png)субъект-служба![Не применяется к следующему: ](../../media/no.png)главный пользователь

Чтобы получить идентификатор GUID клиента, выполните следующие действия.

1. Выполните вход в [Microsoft Azure](https://ms.portal.azure.com/#allservices).

2. В строке поиска найдите **Регистрация приложений** и щелкните ссылку **Регистрация приложений**.

3. Выберите приложение Azure AD, используемое для внедрения содержимого Power BI.

4. В разделе **Обзор**  скопируйте **идентификатор каталога (клиента)** .

### <a name="power-bi-username-and-password"></a>Имя пользователя и пароль Power BI

>[!TIP]
>**Область применения:** ![Не применяется к следующему: ](../../media/no.png)субъект-служба![Применяется к следующему: ](../../media/yes.png)главный пользователь

Получите *имя пользователя* и *пароль* пользователя Power BI, который вы используете для **главного пользователя**. Это тот же пользователь, который использовался для создания рабочей области и отправки отчета в службе Power BI.

## <a name="step-6---service-principal-api-access"></a>Шаг 6. Доступ к API субъекта-службы

>[!TIP]
>**Область применения:** ![Применяется к следующему: ](../../media/yes.png)субъект-служба![Не применяется к следующему: ](../../media/no.png)главный пользователь
>
>Этот шаг имеет смысл выполнять только в случае, если вы используете метод проверки подлинности с применением *субъекта-службы*. Если вы используете *главного пользователя*, пропустите этот шаг и переходите к [шагу 7 (включение доступа к рабочей области)](#step-7---enable-workspace-access).

Чтобы приложение Azure AD могло получить доступ к содержимому и API-интерфейсам Power BI, администратор Power BI должен включить доступ субъекта-службы на портале администрирования Power BI. Если вы не являетесь администратором клиента, обратитесь к администратору клиента с просьбой включить *параметры клиента*.
        
1. В *службе Power BI* выберите **Параметры** > **Параметры** > **Портал администрирования**.
        
    :::image type="content" source="media/embed-sample-for-customers/admin-settings.png" alt-text="Снимок экрана: пункт меню &quot;Параметры&quot; в меню параметров службы Power BI":::
        
2. Выберите **Параметры клиента**, а затем прокрутите вниз до раздела **Параметры разработчика**.
        
3. Разверните раздел **Разрешение субъектам-службам использовать API-интерфейсы Power BI** и включите этот параметр.
        
    :::image type="content" source="media/embed-sample-for-customers/developer-settings.png" alt-text="Снимок экрана: включение параметра &quot;Параметры разработчика&quot; в меню параметров клиента в службе Power BI":::
        
>[!NOTE]
>При использовании *субъекта-службы* рекомендуется ограничить доступ к параметрам клиента с помощью *группы безопасности*. Дополнительные сведения об этой функции см. в следующих разделах статьи, посвященной использованию [субъекта-службы](embed-service-principal.md).
> * [Создание группы безопасности Azure AD](embed-service-principal.md#step-2---create-an-azure-ad-security-group)
>* [Включение параметров администрирования службы Power BI](embed-service-principal.md#step-3---enable-the-power-bi-service-admin-settings)

## <a name="step-7---enable-workspace-access"></a>Шаг 7. Включение доступа к рабочей области

Чтобы включить артефакты доступа к приложению Azure AD, такие как отчеты, панели мониторинга и наборы данных в службу Power BI, добавьте *субъект-службу* или *главного пользователя* в качестве *участника* или *администратора* в рабочую область.

1. Войдите в службу Power BI.

2. Перейдите к рабочей области, для которой требуется включить доступ, а затем в меню **Еще** выберите команду **Доступ к рабочей области**.

    :::image type="content" source="media/embed-service-principal/workspace-access.png" alt-text="Снимок экрана: кнопка &quot;Доступ к рабочей области&quot; в меню &quot;Еще&quot; в рабочей области Power BI.":::

3. В области **Доступ** скопируйте *субъект-службу* или *главного пользователя* (в зависимости от используемого метода проверки подлинности) и вставьте его в текстовое поле **Введите адрес электронной почты**.

    >[!NOTE]
    >Если вы используете *субъект-службу*, его имя — это имя, присвоенное приложению Azure AD.

5. Выберите **Добавить**.

## <a name="step-8---embed-your-content"></a>Шаг 8. Внедрение содержимого

Пример приложения внедрения Power BI позволяет создать приложение Power BI *внедрения для клиентов*.

Выполните следующие действия, чтобы изменить пример приложения *внедрения для клиентов*, чтобы внедрить отчет Power BI.  

1. Откройте папку с [примерами для разработчиков Power BI](https://github.com/microsoft/PowerBI-Developer-Samples).

2. Выберите **Код**, а затем выберите **Скачать ZIP-файл**.

    :::image type="content" source="media/embed-sample-for-customers/developer-samples.png" alt-text="Снимок экрана: кнопка для скачивания ZIP-файла в папке с примерами Power BI для разработчиков в GitHub":::

3. Извлеките содержимое скачанного ZIP-файла и перейдите в папку **PowerBI-Developer-Samples-master**.

4. В зависимости от языка, который должен использоваться приложением, откройте одну из следующих папок:

* .NET Core
* .NET Framework
* Java
* Node.js
* Python
    >[!NOTE]
    >Примеры приложений *внедрения для клиентов* поддерживают только перечисленные выше языки программирования. Пример приложения *React TS* поддерживает только решение *[внедрения для вашей организации](embed-sample-for-your-organization.md)* .

5. Откройте папку **Внедрение для клиентов**.

# <a name="net-core"></a>[.NET Core](#tab/net-core)

6. Откройте *пример приложения внедрения для клиентов*, используя один из следующих методов.

    * Если вы используете [Visual Studio](https://visualstudio.microsoft.com/), откройте файл **AppOwnsData.sln**.

    * Если вы используете [Visual Studio Code](https://code.visualstudio.com/), откройте папку **App Owns Data**.

7. Откройте файл **appsettings.json**.

8. В зависимости от метода проверки подлинности заполните следующие значения параметров:

    |Параметр            |Субъект-служба  |Главный пользователь  |
    |---------------------|---------|---------|
    |`AuthenticationMode` |ServicePrincipal         |MasterUser         |
    |`ClientId`           |[Идентификатор клиента](#client-id) приложения Azure AD         |[Идентификатор клиента](#client-id) приложения Azure AD         |
    |`TenantId`           |[Идентификатор клиента](#tenant-id) приложения Azure AD         |Недоступно         |
    |`PbiUsername`        |Недоступно         |Имя пользователя *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`PbiPassword`        |Недоступно         |Пароль *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`ClientSecret`       |[Секрет клиента](#client-secret) Azure AD         |Недоступно         |
    |`WorkspaceId`        |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))          |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))         |
    |`ReportId`           |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))            |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))         |

9. Запустите проект, выбрав соответствующий параметр:

    * Если вы используете **Visual Studio**, выберите **IIS Express** (воспроизвести).

    * Если вы используете **Visual Studio Code**, выберите **Выполнить > Начать отладку**.

# <a name="net-framework"></a>[.NET Framework](#tab/net-framework)

6. С помощью [Visual Studio](https://visualstudio.microsoft.com/) откройте файл **AppOwnsData.sln**.

7. Откройте файл **Web.config**.

8. В зависимости от метода проверки подлинности заполните следующие значения параметров:

    |Параметр            |Субъект-служба  |Главный пользователь  |
    |---------------------|---------|---------|
    |`authenticationType` |ServicePrincipal         |MasterUser         |
    |`applicationId`           |[Идентификатор клиента](#client-id) приложения Azure AD         |[Идентификатор клиента](#client-id) приложения Azure AD         |
    |`workspaceId`        |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))          |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))         |
    |`reportId`           |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))            |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))         |
    |`pbiUsername`        |Недоступно         |Имя пользователя *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`pbiPassword`        |Недоступно         |Пароль *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`applicationSecret`       |[Секрет клиента](#client-secret) Azure AD         |Недоступно         |
    |`tenant`           |[Идентификатор клиента](#tenant-id) приложения Azure AD         |Недоступно         |

9. Запустите проект, выбрав **IIS Express** (воспроизвести).

>[!NOTE]
>Если вы не видите внедренный отчет при запуске примера приложения, обновите пакеты Power BI, выполнив следующие действия.
>1. Щелкните правой кнопкой мыши имя проекта (AppOwnesData) и выберите **Управление пакетами NuGet**.
>2. Выполните поиск по запросу **Power BI JavaScript**, а затем переустановите пакет.
>
>Дополнительные сведения см. в разделе [Переустановка и обновление пакетов](/nuget/consume-packages/reinstalling-and-updating-packages).

# <a name="java"></a>[Java](#tab/java)

6. Откройте **Eclipse** и следуйте инструкциям ниже.

    >[!NOTE]
    >Инструкции для примера приложения Java для *внедрения для клиентов* см. в разделе [IDE Eclipse для разработчиков Java EE](https://www.eclipse.org/downloads/packages/) (Enterprise Edition). Если вы используете другое приложение, необходимо настроить его самостоятельно.

7. Добавьте сервер Tomcat в Eclipse:

    а. Выберите **Window (Окно)**  > **Show View (Показать представление)**  > **Servers (Серверы)** .

    b. На вкладке Servers (Серверы) выберите **No servers are available. Click this link to create new server** (Нет доступных серверов. Нажмите эту ссылку, чтобы создать новый сервер).

    c. В окне **Define a New Server** (Определить новый сервер) разверните узел **Apache** и выберите сервер Tomcat, который вы используете на вашем компьютере. Например, *Tomcat v 9.0 Server*.

    d. Выберите **Далее**.

    д) В окне **Tomcat Server** (Сервер Tomcat) выберите **Browse** (Обзор) и перейдите к папке, содержащей сервер Tomcat.

    е) В окне **Tomcat Server** (Сервер Tomcat) выберите **Installed JREs** (Установленные JRE).

    ж. В окне **Installed JREs** (Установленные JRE) выберите доступную *JRE* и выберите **Apply and Close** (Применить и закрыть).

    h. В окне **Tomcat Server** (Сервер Tomcat) выберите **Finish** (Готово). На вкладке *Servers* (Серверы) отобразится сервер Tomcat.

8. Откройте проект в Eclipse.

    >[!IMPORTANT]
    >Если путь слишком длинный, в Eclipse могут возникнуть проблемы. Чтобы избежать этого, убедитесь, что папка вашего примера приложения не вложена в структуру папок вашего компьютера слишком глубоко.

    а. Выберите **File** (Файл), а затем **Open Projects from File System** (Открыть проекты из файловой системы).

    b. В окне **Import Projects from File System or Archive** (Импорт проектов из файловой системы или архива) выберите **Directory** (Каталог) и откройте папку **AppOwnsData**.

    c. Нажмите кнопку **Готово**.

9. Добавьте сервер Tomcat в проект.

    а. В области **Package Explorer** (Обозреватель проектов) щелкните правой кнопкой мыши папку **AppOwnsData** и выберите **Properties** (Свойства).

    b. В окне **Properties for AppOwnesData** (Свойства AppOwnesData) выберите **Targeted Runtimes** (Целевые среды выполнения), а затем выберите **Apache Tomcat**. Этот выбор будет включать версию *Apache Tomcat*, которую вы используете, например *Apache Tomact v9.0*.

    c. Нажмите **Apply and Close** (Применить и закрыть).

10. Заполните обязательные параметры.

    а. В окне **Package explorer** (Обозреватель пакетов) разверните проект **AppOwnsData**.

    b. Разверните раздел **Java Resources** (Ресурсы Java).

    c. Разверните узел **src**.

    г. Разверните узел **com.embedsample.appoensdata.config**.

    д) Откройте файл **Config.java**.

    е) В зависимости от метода проверки подлинности заполните следующие значения параметров:

    |Параметр            |Субъект-служба  |Главный пользователь  |
    |---------------------|---------|---------|
    |`authenticationType` |ServicePrincipal         |MasterUser         |
    |`workspaceId`        |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))          |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))         |
    |`reportId`           |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))            |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))         | 
    |`clientId`           |[Идентификатор клиента](#client-id) приложения Azure AD         |[Идентификатор клиента](#client-id) приложения Azure AD         |
    |`pbiUsername`        |Недоступно         |Имя пользователя *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`pbiPassword`        |Недоступно         |Пароль *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`tenantId`           |[Идентификатор клиента](#tenant-id) приложения Azure AD         |Недоступно         |
    |`appSecret`       |[Секрет клиента](#client-secret) Azure AD         |Недоступно         |

11. Запуск проекта

    а. В окне **Package Explorer** (Обозреватель проектов) щелкните правой кнопкой мыши папку **AppOwnesData**.

    b. Выберите **Run As (Запустить как)**   > **Run on Server (Запустить на сервере)** .

    c. В окне **Run on Server** (Запустить на сервере) выберите пункт **Choose an existing server** (Выберите существующий сервер) и выберите сервер *Tomcat*.

    d. Нажмите кнопку **Готово**.

# <a name="node-js"></a>[Node.js](#tab/node-js)

6. Откройте папку **App Owns Data** в предпочтительной интегрированной среде разработки. Мы рекомендуем использовать одну из следующих:

    * [Visual Studio](https://visualstudio.microsoft.com/)

    * [Visual Studio Code](https://code.visualstudio.com/)

7. Откройте терминал и установите необходимые зависимости, выполнив команду `npm install`.

8. Разверните папку **Config** и откройте файл **config.json**.

9. В зависимости от метода проверки подлинности заполните следующие значения параметров:

    |Параметр            |Субъект-служба  |Главный пользователь  |
    |---------------------|---------|---------|
    |`authenticationMode` |ServicePrincipal         |MasterUser         |
    |`clientId`           |[Идентификатор клиента](#client-id) приложения Azure AD         |[Идентификатор клиента](#client-id) приложения Azure AD         |
    |`workspaceId`        |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))          |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))         |
    |`reportId`           |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))            |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))         |
    |`pbiUsername`        |Недоступно         |Имя пользователя *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`pbiPassword`        |Недоступно         |Пароль *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`clientSecret`       |[Секрет клиента](#client-secret) Azure AD         |Недоступно         |
    |`tenantId`           |[Идентификатор клиента](#tenant-id) приложения Azure AD         |Недоступно         |

10. Запустите проект, выполнив следующие действия.

    а. В терминале IDE выполните команду `npm start`.

    b. Откройте новую вкладку в браузере и перейдите по адресу [http://localhost:5300](http://localhost:5300).

# <a name="python"></a>[Python](#tab/python)

6. Откройте **PowerShell** или окно **командной строки**.

7. Убедитесь, что вы находитесь в папке **Python** > **Внедрение для клиентов**, а также в том, что в ней имеется файл **requirements.txt**, а затем выполните команду `pip3 install -r requirements.txt`.

8. Откройте папку **App Owns Data** в предпочтительной интегрированной среде разработки. Мы рекомендуем использовать одну из следующих:

    * [Visual Studio](https://visualstudio.microsoft.com/)

    * [Visual Studio Code](https://code.visualstudio.com/)

9. Откройте файл **config.py**.

10. В зависимости от метода проверки подлинности заполните следующие значения параметров:

    |Параметр            |Субъект-служба  |Главный пользователь  |
    |---------------------|---------|---------|
    |`AUTHENTICATION_MODE` |ServicePrincipal         |MasterUser         |
    |`WORKSPACE_ID`        |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))          |Идентификатор рабочей области с внедренным отчетом (см. раздел [Идентификатор рабочей области](#workspace-id))         |
    |`REPORT_ID`           |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))            |Идентификатор внедряемого отчета (см. раздел [Идентификатор отчета](#report-id))         |
    |`TENANT_ID`           |[Идентификатор клиента](#tenant-id) приложения Azure AD         |Недоступно         |
    |`CLIENT_ID`           |[Идентификатор клиента](#client-id) приложения Azure AD         |[Идентификатор клиента](#client-id) приложения Azure AD         |
    |`CLIENT_SECRET`       |[Секрет клиента](#client-secret) Azure AD         |Недоступно         |
    |`POWER_BI_USER`        |Недоступно         |Имя пользователя *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |
    |`POWER_BI_PASS`        |Недоступно         |Пароль *главного пользователя* (см. раздел [Имя пользователя и пароль Power BI](#power-bi-username-and-password))         |

11. Сохраните файл.

12. Запустите проект, выполнив следующие действия.

    а. В **PowerShell** или в **окне командной строки** перейдите в папку **Python** > **Внедрение для клиентов** > **AppOwnesData** и выполните команду `flask run`.

    b. Откройте новую вкладку в браузере и перейдите по адресу [http://localhost:5300](http://localhost:5300).

---

## <a name="developing-your-application"></a>Разработка приложения

После настройки и запуска примера приложения *внедрения для клиентов* можно приступить к разработке собственного приложения.

Когда будете готовы, изучите требования к [началу эксплуатации в рабочей среде](move-to-production.md). Кроме того, вам потребуется [емкость](embedded-capacity.md), а также ознакомиться со статьей, посвященной [планированию загрузки](embedded-capacity-planning.md), чтобы определить оптимальные наборы SKU, которые потребуются.


## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
>[Перенос в рабочую среду](move-to-production.md)

>[!div class="nextstepaction"]
>[Внедрение для организации](embed-sample-for-your-organization.md)

> [!div class="nextstepaction"]
>[Внедрение отчетов с разбивкой на страницы для клиентов](embed-paginated-reports-customers.md)

> [!div class="nextstepaction"]
>[Внедрение отчетов с разбивкой на страницы для организации](embed-paginated-reports-organization.md)

>[!div class="nextstepaction"]
>[Спросить в сообществе Power BI](https://community.powerbi.com/)